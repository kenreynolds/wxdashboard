<mat-spinner *ngIf="isLoading && !error" diameter="50"></mat-spinner>
<div class="weather-observations"
  [ngClass]="showIsLoading()"
  *ngIf="hasWxData">

  <div class="page-header">
    <div class="date">{{ currentObservations.currentDate }}</div>
    <div class="observation-time">{{ currentObservations.observationTime }}</div>
    <div class="location">{{ locationName }}, {{ state }}</div>
  </div>

  <div class="grid-x padding-top-4">
    <div class="cell conditions">
      <i class="wi" [ngClass]="showSkyConditionIcon()"></i>
      <span class="temperature">
        {{ currentObservations.observedTemperature }}<i class="wi wi-degrees"></i>
      </span>
      <span class="heat-index" *ngIf="hasHeatIndex">
        Heat index: {{ currentObservations.observedHeatIndex }}<i class="wi wi-degrees"></i>
      </span>
      <span class="wind-chill" *ngIf="hasWindChill">
        Wind chill: {{ currentObservations.observedWindChill }}<i class="wi wi-degrees"></i>
      </span>
    </div>
  </div>

  <div class="grid-x align-center padding-bottom-3">
    <div class="cell forecast-temperatures"
      *ngIf="!isTonight; else tonight">
      <p class="high" [ngClass]="showHighTempColor()">
        High: <span class="temp">{{ shortTermForecast.forecastHighTemperature }}<i class="wi wi-degrees"></i></span>
      </p>
      <p class="low" [ngClass]="showLowTempColor()">
        Low: <span class="temp">{{ shortTermForecast.forecastLowTemperature }}<i class="wi wi-degrees"></i></span>
      </p>
    </div>
    <ng-template #tonight>
      <div class="cell forecast-temperatures">
        <p class="low" [ngClass]="showLowTempColor()">
          Low: <span class="temp">{{ shortTermForecast.forecastLowTemperature }}<i class="wi wi-degrees"></i></span>
        </p>
        <p class="high" [ngClass]="showHighTempColor()">
          High: <span class="temp">{{ shortTermForecast.forecastHighTemperature }}<i class="wi wi-degrees"></i></span>
        </p>
      </div>
    </ng-template>
  </div>

  <!-- <mat-card-content class="grid-y align-justify">
    <div class="grid-x align-center padding-bottom-3">
      <div class="cell auto other-obs type">
        <p>Wind:</p>
        <p>Visibility:</p>
        <p>Humidity:</p>
        <p>Pressure:</p>
      </div>

      <div class="cell small-4 other-obs value">
        <p>{{ currentObservations.observedWindSpeed }}</p>
        <p>{{ currentObservations.observedVisibility }}</p>
        <p>{{ currentObservations.observedHumidity }}</p>
        <p>{{ currentObservations.observedPressure }}</p>
      </div>

      <div class="cell small-3 wind-info">
        <div class="compass">
          <i class="wi" [ngClass]="showWindDirectionIcon()"></i>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="cell small-12 short-term-forecast padding-top-2"
      *ngIf="hasShortTermForecastData">
      <p class="data">
        <strong>{{ shortTermForecast.shortTermForecastPeriod }}</strong>:
        {{ shortTermForecast.shortTermForecastLowTemperature }}<i class="wi wi-degrees"></i>&nbsp;-&nbsp;
        {{ shortTermForecast.shortTermForecastDetails }}
      </p>
    </div>
  </mat-card-content> -->
</div>

<div class="weather-observations"
  *ngIf="!hasWxData && error">
  <div class="callout alert">
    <p>{{ error }}</p>
  </div>
</div>